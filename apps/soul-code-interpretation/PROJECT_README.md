# 心灵密码解读 - Morphix AI 应用

## 📖 项目介绍

这是一个基于九型人格理论的灵魂探索应用，通过 23 道精心设计的问题，帮助用户发现自己的内在特质和性格类型。

应用集成了 **MorphixAI 的 AI 能力**，能够为每位用户生成**个性化的深度分析和成长指引**。

---

## 🌳 项目结构（生命结构）

### 🌱 根（核心意图）
帮助用户通过九型人格测试，深入了解自己的灵魂类型，获得个性化的成长指引。

### 🌿 干（主逻辑流程）
```
首页选择星座 
    ↓
开始 23 题测试
    ↓
计算测试结果
    ↓
AI 生成深度洞察
    ↓
展示灵魂画像
    ↓
保存到密码库
```

### 🍃 枝（功能模块）

#### 1. 探索页（首页）
- 每日 AI 生成的能量指引
- 星座选择
- 开始测试入口
- 查看历史记录入口

#### 2. 测试页
- 23 道九型人格问题
- 实时进度显示
- 能量值累积动画
- 流畅的答题体验

#### 3. 结果页
- 灵魂画像展示
- AI 深度个性化分析
- 核心特质说明
- 成长引导建议
- 得分详情

#### 4. 密码库（历史记录）
- 所有测试记录
- 时间线展示
- 可查看历史结果
- 可删除记录

### 🌸 叶（呈现层）
- 深紫色星空主题
- 流畅的动画效果
- 充满灵性元素的 UI
- 完美的移动端适配

---

## 🔧 技术架构

### 核心技术栈
- **React 19.0.0** - UI 框架
- **Ionic React 8.6.2** - 移动端组件库
- **React Router 5.3.4** - 路由管理
- **MorphixAI SDK** - AI 能力和数据存储

### 项目文件结构
```
src/
├── app.jsx                 # 主应用入口（Tab 导航）
├── components/             # 页面组件
│   ├── ExplorePage.jsx    # 探索页（首页）
│   ├── TestPage.jsx       # 测试页
│   ├── ResultPage.jsx     # 结果页
│   └── VaultPage.jsx      # 密码库（历史记录）
├── services/              # 服务层
│   ├── AIService.js       # AI 分析服务
│   └── DataService.js     # 数据存储服务
├── utils/                 # 工具函数
│   ├── soulAnalysis.js    # 九型人格数据
│   ├── zodiacAnalysis.js  # 星座数据
│   └── questions.js       # 测试题目和计分逻辑
└── styles/                # 样式文件（CSS Modules）
    ├── App.module.css
    ├── ExplorePage.module.css
    ├── TestPage.module.css
    ├── ResultPage.module.css
    └── VaultPage.module.css
```

---

## 🚀 核心功能

### 1. AI 深度分析
- 使用 **AppSdk.AI.chat** 调用 GPT-4o
- 根据测试结果生成个性化洞察
- 结合星座特质提供综合分析
- 给出具体的成长建议

### 2. 数据持久化
- 优先使用 **AppSdk.appData** 存储
- 降级到 **localStorage** 作为备份
- 完整的测试历史记录
- 用户偏好设置保存

### 3. 九型人格计分系统
- 23 道精心设计的测试题
- 科学的计分算法
- 主要类型 + 次要类型识别
- 得分比例可视化

### 4. 每日能量指引
- AI 生成的每日智慧提示
- 可根据用户类型个性化
- 使用缓存机制提升性能

---

## 🎨 UI/UX 特色

### 视觉设计
- **深紫色星空主题**：营造神秘而温暖的氛围
- **流畅动画**：星空闪烁、能量波动、元素浮动
- **渐进式引导**：不让用户感到压迫
- **视觉隐喻**：使用密码、能量、灵魂等元素

### 交互体验
- **能量觉醒仪式**：测试开始和结束都有仪式感
- **实时反馈**：选择选项时的动画和能量值变化
- **最后一题提示**：特殊的视觉强调
- **结果揭示**：带有仪式感的结果展示动画

---

## 🔮 能量流动路径

```
用户打开应用
    ↓
【探索页】查看每日能量指引
    ↓
选择星座（保存到偏好）
    ↓
点击"开始灵魂探索"
    ↓
【测试页】能量引导动画（2秒）
    ↓
回答 23 道问题（每题选择 A/B）
    ↓
能量值累积动画
    ↓
最后一题特殊提示
    ↓
点击"完成灵魂觉醒"
    ↓
计算结果（主要类型 + 次要类型）
    ↓
保存到数据库
    ↓
【结果页】灵魂觉醒仪式（2秒）
    ↓
展示灵魂画像
    ↓
AI 生成深度洞察（异步）
    ↓
展示核心特质和成长引导
    ↓
用户可以分享或返回首页
    ↓
【密码库】查看历史记录
```

---

## 💫 AI 系统提示词

应用使用精心设计的系统提示词，让 AI 扮演：

> **"一位融合了心理学、哲学和东方智慧的灵魂导师"**

AI 的回应特点：
- 富有共情和温暖
- 将心理学知识与生活智慧结合
- 用诗意但不空洞的语言表达
- 给予具体可行的成长建议
- 避免说教，引导用户自我觉察

---

## 📊 九型人格类型

应用包含完整的九型人格数据：

1. **🌟 完美者**（第一型）- 追求完美、注重细节
2. **💫 助人者**（第二型）- 富有同理心、乐于助人
3. **✨ 成就者**（第三型）- 目标导向、追求卓越
4. **🌙 浪漫者**（第四型）- 富有创造力、情感深刻
5. **🔮 观察者**（第五型）- 求知欲强、独立思考
6. **🛡️ 忠诚者**（第六型）- 忠诚可靠、谨慎负责
7. **🌈 探索者**（第七型）- 乐观开朗、充满活力
8. **⚡ 领导者**（第八型）- 充满力量、富有领导力
9. **🌊 和平者**（第九型）- 平和包容、追求和谐

每种类型都包含：
- 类型标题和引语
- 核心特质
- 成长引导
- 专属图标

---

## 🎯 验收标准

### 功能验收
- ✅ 用户可以选择星座并保存偏好
- ✅ 完成 23 题测试并获得准确结果
- ✅ AI 生成个性化深度分析
- ✅ 测试记录持久化保存
- ✅ 历史记录可查看和删除

### 体验验收
- ✅ 流畅的动画效果
- ✅ 美观的视觉设计
- ✅ 完美的移动端适配
- ✅ AI 响应时有加载提示
- ✅ 所有交互都有反馈

### 情感验收（最重要）
- ✅ 用户感受到被"理解"
- ✅ AI 的分析让用户感到"恍然大悟"
- ✅ 愿意多次使用应用
- ✅ 密码库让用户感到"成长的记录"

---

## 🛠️ 开发说明

### 运行应用
```bash
# 确保在项目根目录
npm run dev
```

### 关键注意事项
1. **禁止安装新的 npm 包** - 使用 remoteImport
2. **所有 AppSdk 调用必须有错误处理** - 使用 try-catch + reportError
3. **优先使用 AppSdk.appData** - localStorage 作为降级方案
4. **CSS 必须使用 Modules** - 避免全局样式冲突
5. **React Router 使用 v5 语法** - Switch 而不是 Routes

### AI 调用成本优化
- 使用缓存机制减少重复调用
- AI 响应时显示加载状态
- 提供默认分析作为降级方案
- 合理设置 temperature（0.7-0.9）

---

## 🌟 未来扩展方向

1. **社交分享功能** - 生成精美的分享卡片
2. **成长日记** - 记录用户的自我觉察
3. **冥想音频** - 根据类型推荐冥想练习
4. **类型匹配** - 分析与他人的关系动态
5. **进阶测试** - 更深入的心理测评
6. **AI 对话** - 与 AI 导师进行深度对话

---

## 🙏 致谢

感谢 MorphixAI 平台提供的强大 AI 能力和开发工具。

---

**💫 愿每个灵魂都能找到属于自己的光芒！**

