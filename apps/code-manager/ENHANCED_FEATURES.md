# 优惠券系统增强功能说明

## 🎉 新增功能

### 1. 折扣类型优惠券
- **金额券**：传统的固定金额优惠券（如 ¥50）
- **折扣券**：按百分比折扣的优惠券（如 8.5折）
- 通过顶部 Segment 切换选择类型

### 2. 备注功能
- 支持为每张优惠券添加备注信息
- 最多 200 字
- 在优惠券详情和验券时显示
- 可用于说明使用条件、有效期等

### 3. 公司名称
- 支持输入自定义公司名称
- 最多 50 字
- 显示在优惠券顶部，增强品牌识别度
- 可选字段，不填写则不显示

### 4. 批量创建优惠券
- 一次性创建多张相同配置的优惠券
- 支持创建 1-100 张
- 每张优惠券拥有独立的唯一编码
- 批量创建后显示所有优惠券列表
- 支持一键复制所有编码

### 5. 模板功能
- **保存模板**：将常用配置保存为模板
- **使用模板**：快速加载已保存的配置
- 模板包含：类型、金额/折扣、备注、公司名称
- 模板存储在本地，永久保存

## 📋 使用指南

### 创建金额券
1. 选择"金额券"类型
2. 输入优惠金额（必填）
3. 输入公司名称（可选）
4. 输入备注信息（可选）
5. 设置创建数量（默认 1）
6. 点击"创建优惠券"

### 创建折扣券
1. 选择"折扣券"类型
2. 输入折扣值（1-100，如 8.5 表示 8.5折）
3. 输入公司名称（可选）
4. 输入备注信息（可选）
5. 设置创建数量（默认 1）
6. 点击"创建优惠券"

### 批量创建
1. 配置好优惠券信息
2. 在"创建数量"中输入需要的数量（1-100）
3. 点击"批量创建 X 张"
4. 查看批量创建结果，可复制所有编码

### 使用模板
1. 配置好优惠券信息
2. 勾选"保存为模板"
3. 输入模板名称
4. 点击"保存模板"
5. 下次创建时，从"使用模板"下拉框选择即可

## 🎨 界面优化

### 深色模式支持
- 所有新组件完全支持深色模式
- 自动适配系统主题
- 文字颜色、背景色自动调整

### 优惠券显示
- 金额券显示：¥50
- 折扣券显示：8.5折
- 公司名称显示在顶部
- 备注信息显示在底部

## 🔧 技术实现

### 数据结构
```javascript
{
  id: "ABC123",
  code: "ABC123",
  type: "amount" | "discount",  // 新增
  amount: 50,                    // 金额券使用
  discount: 8.5,                 // 折扣券使用（新增）
  note: "满100可用",             // 新增
  companyName: "XX公司",         // 新增
  isUsed: false,
  createdAt: Date,
  usedAt: null
}
```

### 验证规则
- **金额**：大于 0，最大 999999
- **折扣**：1-100 之间的数字
- **备注**：最多 200 字
- **公司名称**：最多 50 字
- **批量数量**：1-100 张

### 模板存储
- 使用 localStorage 存储
- 键名：`couponTemplates`
- 格式：JSON 数组

## 📱 兼容性

- ✅ 完全向后兼容旧版优惠券
- ✅ 旧优惠券自动识别为金额券
- ✅ 所有功能支持移动端和桌面端
- ✅ 深色模式完全支持

## 🚀 后续优化建议

1. **模板管理**：添加编辑、删除模板功能
2. **导出功能**：批量导出优惠券为 Excel/CSV
3. **有效期**：添加优惠券有效期设置
4. **使用限制**：添加使用次数、最低消费等限制
5. **统计分析**：添加优惠券使用统计和分析功能
