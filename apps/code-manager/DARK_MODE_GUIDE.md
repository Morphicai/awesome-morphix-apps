# 深色模式适配指南

## 🌓 深色模式概述

本应用已完全适配深色模式，会自动跟随系统主题设置。

## 🎨 配色方案

### 浅色模式（Light Mode）
```
背景色:     #f5f5f5  (浅灰)
卡片背景:   #ffffff  (白色)
文字颜色:   #000000  (黑色)
边框颜色:   #e0e0e0  (浅灰)
次要文字:   #6b7280  (中灰)
```

### 深色模式（Dark Mode）
```
背景色:     #1a1a1a  (深黑)
卡片背景:   #1e1e1e  (深灰)
文字颜色:   #ffffff  (白色)
边框颜色:   #2d2d2d  (深灰)
次要文字:   #d1d5db  (浅灰)
```

### 品牌色（两种模式通用）
```
主渐变:     #667eea → #764ba2  (紫色渐变)
成功色:     #059669  (绿色)
危险色:     #dc2626  (红色)
警告色:     #f59e0b  (橙色)
```

## 📱 各组件深色模式效果

### 1. 底部导航栏
```
浅色模式:
┌─────────────────────────────┐
│  白色背景 + 灰色图标          │
│  选中时显示紫色              │
└─────────────────────────────┘

深色模式:
┌─────────────────────────────┐
│  深色背景 + 浅色图标          │
│  选中时显示紫色              │
└─────────────────────────────┘
```

### 2. 优惠券列表卡片
```
浅色模式:
┌─────────────────────────────┐
│ [紫色渐变]  AB**CD           │
│   ¥100     未使用            │
│            2024-11-01        │
└─────────────────────────────┘
白色卡片 + 黑色文字

深色模式:
┌─────────────────────────────┐
│ [紫色渐变]  AB**CD           │
│   ¥100     未使用            │
│            2024-11-01        │
└─────────────────────────────┘
深灰卡片 + 白色文字
```

### 3. 创建表单
```
浅色模式:
┌─────────────────────────────┐
│ 创建优惠券                   │
│ ┌─────────────────────────┐ │
│ │ 优惠券金额 (元)          │ │
│ │ [输入框 - 浅灰背景]      │ │
│ └─────────────────────────┘ │
│ [创建优惠券 - 紫色按钮]      │
└─────────────────────────────┘

深色模式:
┌─────────────────────────────┐
│ 创建优惠券                   │
│ ┌─────────────────────────┐ │
│ │ 优惠券金额 (元)          │ │
│ │ [输入框 - 深灰背景]      │ │
│ └─────────────────────────┘ │
│ [创建优惠券 - 紫色按钮]      │
└─────────────────────────────┘
```

### 4. Modal 弹窗
```
浅色模式:
┌─────────────────────────────┐
│ ✓ 优惠券创建成功！           │
│                             │
│ ┌─────────────────────────┐ │
│ │   [紫色渐变卡片]         │ │
│ │   优惠金额: ¥100         │ │
│ │   编码: ABCDEF           │ │
│ └─────────────────────────┘ │
│                             │
│ [保存图片] [完成]            │
└─────────────────────────────┘
浅灰背景

深色模式:
┌─────────────────────────────┐
│ ✓ 优惠券创建成功！           │
│                             │
│ ┌─────────────────────────┐ │
│ │   [紫色渐变卡片]         │ │
│ │   优惠金额: ¥100         │ │
│ │   编码: ABCDEF           │ │
│ └─────────────────────────┘ │
│                             │
│ [保存图片] [完成]            │
└─────────────────────────────┘
深黑背景
```

## 🔧 技术实现

### CSS 变量使用
```css
/* 定义变量 */
.element {
  background: var(--ion-background-color, #f5f5f5);
  color: var(--ion-text-color, #000000);
  border-color: var(--ion-border-color, #e0e0e0);
}

/* 深色模式覆盖 */
@media (prefers-color-scheme: dark) {
  .element {
    background: var(--ion-background-color, #1a1a1a);
    color: var(--ion-text-color, #ffffff);
    border-color: var(--ion-border-color, #2d2d2d);
  }
}
```

### Ionic 内置变量
```css
--ion-background-color      /* 页面背景色 */
--ion-text-color           /* 文字颜色 */
--ion-card-background      /* 卡片背景色 */
--ion-border-color         /* 边框颜色 */
--ion-color-primary        /* 主题色 */
--ion-color-success        /* 成功色 */
--ion-color-danger         /* 危险色 */
--ion-color-medium         /* 次要文字色 */
```

## 🎯 设计原则

### 1. 对比度
- 确保文字和背景有足够对比度
- 深色模式使用浅色文字
- 浅色模式使用深色文字

### 2. 一致性
- 所有组件统一适配
- 保持品牌色不变
- 交互反馈一致

### 3. 可读性
- 深色模式降低亮度
- 避免纯黑纯白
- 使用柔和的灰色

### 4. 层次感
- 使用不同深度的灰色
- 卡片略亮于背景
- 边框区分元素

## 📊 颜色对比表

| 元素 | 浅色模式 | 深色模式 |
|------|---------|---------|
| 页面背景 | #f5f5f5 | #1a1a1a |
| 卡片背景 | #ffffff | #1e1e1e |
| 输入框背景 | #f8fafc | #4b5563 |
| 主要文字 | #000000 | #ffffff |
| 次要文字 | #6b7280 | #d1d5db |
| 边框 | #e0e0e0 | #2d2d2d |
| 成功提示背景 | #f0f9ff | #0c4a6e |
| 错误提示背景 | #fef2f2 | #450a0a |

## 🧪 测试清单

### 浅色模式测试
- [ ] 页面背景为浅色
- [ ] 文字清晰可读
- [ ] 卡片有明显边界
- [ ] 按钮颜色正确
- [ ] Modal 弹窗正常

### 深色模式测试
- [ ] 页面背景为深色
- [ ] 文字清晰可读（浅色）
- [ ] 卡片有明显边界
- [ ] 按钮颜色正确
- [ ] Modal 弹窗正常

### 切换测试
- [ ] 切换主题时平滑过渡
- [ ] 所有元素正确更新
- [ ] 无闪烁或错位
- [ ] 状态保持正常

## 💡 使用建议

### 何时使用深色模式
1. **夜间使用** - 减少眼睛疲劳
2. **低光环境** - 避免刺眼
3. **省电需求** - OLED 屏幕省电
4. **个人偏好** - 视觉舒适度

### 自动切换
应用会自动跟随系统设置：
- iOS: 设置 → 显示与亮度 → 深色
- Android: 设置 → 显示 → 深色主题
- macOS: 系统偏好设置 → 通用 → 外观 → 深色
- Windows: 设置 → 个性化 → 颜色 → 深色

## 🔍 调试技巧

### Chrome DevTools
1. 打开开发者工具（F12）
2. 点击右上角 ⋮ → More tools → Rendering
3. 找到 "Emulate CSS media feature prefers-color-scheme"
4. 选择 "prefers-color-scheme: dark" 或 "light"

### Safari
1. 打开开发者工具
2. Elements → Styles
3. 查看 @media (prefers-color-scheme: dark) 规则

## 📚 参考资源

- [Ionic Dark Mode Guide](https://ionicframework.com/docs/theming/dark-mode)
- [CSS prefers-color-scheme](https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme)
- [Material Design Dark Theme](https://material.io/design/color/dark-theme.html)

---

**提示**: 深色模式会自动适配，无需手动配置！
